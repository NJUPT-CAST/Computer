<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
	<script>
	function example01() {
		var message;

		console.log(message); //?
		console.log(age); //?
	}

	function example02(){
		var car;
		alert(typeof car);
	}

	function example03(){
		console.log(arguments[0] + " run the function example03");
	}

	function example04(){
		var obj = new Object();

		obj.name = "test";

		var a = "anotherObj";
		a.name = "anotherOne";
		console.log(a.name);
	}

	function example05(){
		var obj1 = new Object();
		var obj2 = obj1;
		obj1.name = "obj1's name";
		console.log(obj2.name);
	}
	
	function example06(){
		function setName(obj){
			obj.name = "Nicholas";
			// obj = new Object();
			// obj.name = "Greg";
		}

		var person = new Object();
		setName(person);
		alert(person.name);

	}

	function example07(){
		var s = "Nicholas";
		var b = true;
		var i = 22;
		var u;
		var n = null;
		var o = new Object();

		// alert(typeof s);
		// alert(typeof i);
		// alert(typeof b);
		// alert(typeof u);
		// alert(typeof n);
		// alert(typeof o);

		alert(n instanceof Object);
		alert(o instanceof Object);

	}

	function example08(){
		var color = "blue";

		function changeColor(){
			var innerColor = "green";

			if(color === "blue"){
				color = "red";
			} else {
				color = "blue";
			}
		}

		changeColor();
		console.log("Color is now " + color);
		console.log("innerColor is now" + innerColor);
	}

	function example09(){
		var person = new Object();
		var person = {
			name: "nico"
		};
		var person = {
			"name": "nico"
		}

		console.log(person.name);
		console.log(person["name"]);
	}

	function example10(){
		window.color = "red";
		var o = { color: "blue" };

		function sayColor(){
			alert(this.color);
		}

		sayColor();

		o.sayColor = sayColor;
		o.sayColor();

		// 环境不同，函数相同
	}

	function example11(){
		window.color = "red";
		var o = { color: "blue" };

		function sayColor(){
			alert(this.color);
		}

		sayColor();

		sayColor.call(this);
		sayColor.call(window);
		sayColor.call(o);
	}

	// 工厂模式
	function example12(){
		function createPerson(name, age, job){
			var o = new Object();
			o.name = name;
			o.age = age;
			o.job = job;
			o.sayName = function(){
				alert(this.name);
			};
			return o;
		}

		var person1 = createPerson("a", 29, "bcd");
		var person2 = createPerson("b", 27, "efg");

		console.log(person1 instanceof createPerson);
	}
	// 构造函数模式
	function example13(){
		function Person(name, age, job){
			this.name = name;
			this.age = age;
			this.job = job;
			this.sayName = function(){
				alert(this.name);
			}
		}

		var person1 = new Person("a", 29, "bcd");
		var person2 = new Person("b", 27, "efg");

		console.log(person1 instanceof Person);
		console.log(person1.constructor == Person);// constructor构造函数属性
		console.log(person1.sayName == person2.sayName);
	}
	// 原型模式
	function example14(){
		function Person(){

		}

		Person.prototype.name = "a";
		Person.prototype.age = 29;
		Person.prototype.job = "bcd";
		Person.prototype.sayName = function(){
			alert(this.name);
		};

		// Person.prototype = {
		// 	constructor: Person,
		// 	name: "a",
		// 	age: 29,
		// 	job: "bcd",
		// 	sayName: function(){
		// 		alert(this.name);
		// 	}
		// };

		var person1 = new Person();
		// person1.name = "b";
		person1.sayName();

		var person2 = new Person();
		person2.sayName();

		alert(person1.sayName == person2.sayName);
		// 存在问题 引用类型共享性
	}
	// 组合使用构造函数模式和原型模式
	function example15(){
		function Person(name, age, job){
			this.name = name;
			this.age = age;
			this.friends = ['f', 'g'];
		}

		Person.prototype = {
			constructor: Person,
			sayName: function(){
				alert(this.name);
			}
		}

		var person1 = new Person("a", 29, "bcd");
		var person2 = new Person("b", 27, "efg");

		person1.friends.push("Van");

		console.log(person1.friends);
		console.log(person2.friends);
		console.log(person1.friends === person2.friends);
		console.log(person1.sayName === person2.sayName);
	}
	// 动态原型模式
	function example16(){
		function Person(name, age, job){
			this.name = name;
			this.age = age;
			this.job = job;

			if(typeof this.sayName != "function"){
				Person.prototype.sayName = function(){
					alert(this.name);
				}
			}

		}

		var friend = new Person("a", 29, "bcd");
		friend.sayName();
	}

	function example17(){}
	function example18(){}
	function example19(){}
	

	// example01();
	// example03("I");
	// example07();
	// example10();
	example14();
	</script>
</body>
</html>